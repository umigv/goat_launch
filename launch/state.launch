<!-- runs joint_ and robot_state_publisher with
     encoder data and URDF from goat_description -->
<launch>
    <arg name="use_gui" default="false"/>
    <arg name="sources" default="[/encoders/state]"/>
    <arg name="frequency" default="50"/>

    <param name="robot_description"
           textfile="$(find goat_description)/robots/goat.urdf"/>

    <rosparam command="load" file="$(find goat_launch)/params/state.yaml"/>

    <node name="joint_state_publisher" pkg="joint_state_publisher"
          type="joint_state_publisher" clear_params="true">
          <param name="rate" value="$(arg frequency)"/>
          <rosparam param="use_gui" subst_value="True">$(arg gui)</rosparam>
          <rosparam param="source_list"
                    subst_value="True">$(arg sources)</rosparam>
    </node>
    
    <node name="robot_state_publisher" pkg="robot_state_publisher"
          type="robot_state_publisher" clear_params="true">
          <param name="publish_frequency" value="$(arg frequency)"/>
    </node>
</launch>
